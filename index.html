<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>קטלוג בשמי בוטיק</title>
  <meta name="description" content="בשמים בייצור פרטי • הזמנה ושאלות ב-WhatsApp" />
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600;800&family=Noto+Serif+Hebrew:wght@600;700&display=swap" rel="stylesheet">
  <!-- Open Graph -->
  <meta property="og:title" content="קטלוג בשמי בוטיק" />
  <meta property="og:description" content="בשמים בייצור פרטי • קנייה דרך WhatsApp" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/og.jpg" />
  <link rel="icon" href="images/favicon.ico" />
  <style>
    :root{
      --logo-h: 160px;            /* ↔ שינוי גובה לוגו */
      --bg: #fbf8f3;
      --card: #ffffff;
      --fg: #1a1a1a;
      --muted:#6f6a5f;
      --accent:#b07a2a;
      --border:#eadfce;
      --shadow: 0 6px 18px rgba(50,24,0,.06);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      background:
        radial-gradient(1200px 600px at 10% -10%, #fff 0, rgba(255,255,255,.6) 40%, transparent 70%),
        linear-gradient(#fff, var(--bg));
      color:var(--fg);
      font-family: Heebo, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      -webkit-font-smoothing: antialiased;
      scroll-behavior:smooth;
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1160px;margin:0 auto;padding:0 16px 56px}
    header{text-align:center;padding:32px 16px 8px}
    .logo{display:block;margin:0 auto 12px;height:var(--logo-h);max-width:90%;object-fit:contain}
    header h1{font-family:"Noto Serif Hebrew",serif;font-weight:700;font-size:clamp(26px,3.5vw,40px);margin:0 0 8px}
    header p{margin:6px 0;color:var(--muted)}
    .cta{
      display:inline-block;margin-top:12px;padding:12px 18px;border:1px solid var(--accent);border-radius:14px;font-weight:800;
      background:linear-gradient(#fff,#fff9f0);transition:.2s transform,.2s box-shadow,.2s background;box-shadow:var(--shadow)
    }
    .cta:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(176,122,42,.12)}
    .grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:12px;display:flex;flex-direction:column;box-shadow:var(--shadow);transition:.2s transform,.2s box-shadow}
    .card:hover{transform:translateY(-3px);box-shadow:0 12px 24px rgba(32,18,0,.08)}
    /* Carousel */
    .carousel{position:relative;border-radius:12px;overflow:hidden;background:#f1f1f1}
    .slides{position:relative;height:280px}
    .slide{position:absolute;inset:0;opacity:0;transition:opacity .25s}
    .slide.active{opacity:1}
    .slide img{width:100%;height:100%;object-fit:cover;display:block}
    .nav{position:absolute;top:50%;transform:translateY(-50%);display:flex;gap:8px;width:100%;justify-content:space-between;padding:0 8px;pointer-events:none}
    .nav button{pointer-events:auto;width:36px;height:36px;border-radius:999px;border:1px solid var(--border);background:#fff9f0;font-weight:800}
    .dots{display:flex;gap:6px;justify-content:center;padding:6px}
    .dot{width:8px;height:8px;border-radius:999px;background:#ddd}
    .dot.active{background:var(--accent)}
    .card h3{margin:10px 0 4px;font-size:18px;font-weight:800;letter-spacing:.2px;font-family:"Noto Serif Hebrew",serif}
    .meta{color:var(--muted);font-size:14px}
    .price{font-weight:800;margin:6px 0 0}
    .sizes{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .size-btn{
      padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:#fff;font-weight:700;font-size:14px
    }
    .size-btn.active{border-color:var(--accent);background:#fff6ea}
    .wa-btn{margin-top:auto;display:inline-block;padding:10px 14px;border-radius:12px;border:1px solid var(--accent);background:#fff;font-weight:800;transition:.2s background,.2s transform,.2s box-shadow}
    .wa-btn:hover{background:#fff3e0;transform:translateY(-1px)}
    footer{color:var(--muted);font-size:14px;border-top:1px solid var(--border);padding:24px 16px 40px;text-align:center}
    .faq{margin-top:34px}
    .faq h2{font-family:"Noto Serif Hebrew",serif;font-size:20px;margin:0 0 8px}
    .faq details{border:1px solid var(--border);border-radius:12px;padding:10px 12px;margin:8px 0;background:#fff;box-shadow:var(--shadow)}
  </style>
</head>
<body>
  <header class="wrap">
    <img src="images/logo.png" alt="לוגו המותג" class="logo" onerror="this.style.display='none'">
    <h1>קטלוג בשמי בוטיק</h1>
    <p>ייצור פרטי בכמויות קטנות. בחירה, שאלות והזמנה דרך WhatsApp.</p>
    <a class="cta" id="waTop" target="_blank" rel="noopener">דברו איתי ב-WhatsApp</a>
  </header>

  <main class="wrap">
    <section class="grid" id="products"></section>

    <section class="faq">
      <h2>שאלות נפוצות</h2>
      <details><summary>איך מבצעים הזמנה?</summary><div>בוחרים נפח (100ml / 10ml Refillable / 5ml Sample), לוחצים על כפתור ה-WhatsApp בכרטיס; ההודעה תתמלא אוטומטית.</div></details>
      <details><summary>דוגמיות 5ml ו-10ml</summary><div>5ml — טעימה קצרה; 10ml — מיכל מילוי-מחדש (Refillable) לנשיאה יומית.</div></details>
      <details><summary>משלוחים וזמני הכנה</summary><div>נשלח בד״כ תוך 1–3 ימי עסקים מרגע האישור. איסוף מתואם אפשרי.</div></details>
    </section>
  </main>

  <footer class="wrap">
    <div>© 2025 שם המותג • הזמנה דרך WhatsApp בלבד • פרטי קשר: example@mail.com • 050-0000000</div>
  </footer>

  <script>
    // מספר ה-WhatsApp שלך (בפורמט בינלאומי, ללא +):
    const WA_PHONE = "972508939729";

    // products: 41 מוצרים, תמונה ראשית images/N.jpg
    // אפשר להוסיף בעתיד גם images/N-2.jpg , images/N-3.jpg לקרוסלה לכל מוצר
    const names = [
      "Amber No.1","Citrus Breeze","Woody Trail","Musk Velvet","Ocean Mist","Spice Route","Rose Garden","Vanilla Beam","Night Oud","Fresh Linen",
      "Golden Sandal","Bergamot Leaf","Cedar Grove","Patchouli Noir","Leather Smoke","Lavender Hill","Fig Blossom","Neroli Sun","White Tea","Ambergris Tide",
      "Tonka Drift","Forest Rain","Saffron Ember","Blackcurrant Muse","Ginger Spark","Tuberose Cloud","Sacred Myrrh","Pine Needle","Pear Shade","Orchid Veil",
      "Cocoa Wood","Jasmine Air","Basil Citrus","Honey Amber","Blue Vetiver","Maple Cedar","Arctic Mint","Ruby Rose","Smoke & Salt","Cashmere Musk","Desert Bloom"
    ];
    const products = Array.from({length:41}, (_,i) => {
      const n = i+1;
      return {
        id:n,
        name:names[i] || `Perfume ${n}`,
        sku:`P${String(n).padStart(2,'0')}`,
        price100:180,  // מחיר מלא לדוגמה
        price10:45,    // 10ml Refillable (Y לדוגמה)
        price5:25,     // 5ml Sample (X לדוגמה)
        images:[`${n}.jpg`, `${n}-2.jpg`, `${n}-3.jpg`], // הראשונה קיימת; השאר אופציונליות
        note:"EDP"
      };
    });

    function buildWaHref(p, sizeLabel, price){
      const lines = [
        "היי! מעוניין/ת בבושם:",
        `${p.name} (קוד: ${p.sku})`,
        `נפח: ${sizeLabel}`,
        price ? `מחיר מוצג: ₪${price}` : null,
        "אשמח לפרטים/הזמנה."
      ].filter(Boolean).join("\n");
      return `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(lines)}`;
    }

    function renderProducts(){
      const el = document.getElementById('products');
      el.innerHTML = products.map(p => {
        const defaultSize = "100ml";
        const defaultPrice = p.price100;

        const slidesHtml = p.images.map((file,idx)=>`
          <div class="slide ${idx===0?'active':''}">
            <img src="images/${file}" alt="${p.name}" onerror="this.parentElement.remove()">
          </div>
        `).join('');

        const waHref = buildWaHref(p, defaultSize, defaultPrice);

        return `
          <article class="card" data-id="${p.id}" data-sku="${p.sku}">
            <div class="carousel" data-idx="0">
              <div class="slides">
                ${slidesHtml}
              </div>
              <div class="nav">
                <button class="prev" aria-label="הקודם">‹</button>
                <button class="next" aria-label="הבא">›</button>
              </div>
              <div class="dots"></div>
            </div>

            <h3>${p.name}</h3>
            <p class="meta">${p.note}</p>

            <div class="sizes">
              <button class="size-btn active" data-size="100ml" data-price="${p.price100}">100ml ₪${p.price100}</button>
              <button class="size-btn" data-size="10ml Refillable" data-price="${p.price10}">10ml Refill ₪${p.price10}</button>
              <button class="size-btn" data-size="5ml Sample" data-price="${p.price5}">5ml ₪${p.price5}</button>
            </div>

            <p class="price">₪<span class="price-val">${defaultPrice}</span></p>

            <a class="wa-btn" href="${waHref}" target="_blank" rel="noopener">הזמנה/שאלה ב-WhatsApp</a>
          </article>
        `;
      }).join('');

      // אינטראקציות לכל כרטיס
      document.querySelectorAll('.card').forEach((card, idx)=>{
        const product = products[idx];

        // --- קרוסלה ---
        const carousel = card.querySelector('.carousel');
        const slides = Array.from(carousel.querySelectorAll('.slide'));
        const dotsWrap = carousel.querySelector('.dots');

        // בונים נקודות לפי כמות שקיימת בפועל אחרי onerror/remove
        function rebuildDots(){
          const currentSlides = Array.from(carousel.querySelectorAll('.slide'));
          dotsWrap.innerHTML = currentSlides.map((_,i)=>`<span class="dot ${i===0?'active':''}" data-i="${i}"></span>`).join('');
        }
        rebuildDots();

        function gotoSlide(i){
          const currentSlides = Array.from(carousel.querySelectorAll('.slide'));
          if (!currentSlides.length) return;
          const m = currentSlides.length;
          i = ((i % m) + m) % m;
          currentSlides.forEach((s,k)=>s.classList.toggle('active', k===i));
          carousel.dataset.idx = i;
          dotsWrap.querySelectorAll('.dot').forEach((d,k)=>d.classList.toggle('active', k===i));
        }
        const prev = carousel.querySelector('.prev');
        const next = carousel.querySelector('.next');
        prev.addEventListener('click', ()=> gotoSlide(Number(carousel.dataset.idx||0)-1));
        next.addEventListener('click', ()=> gotoSlide(Number(carousel.dataset.idx||0)+1));
        dotsWrap.addEventListener('click', e=>{
          const dot = e.target.closest('.dot');
          if (!dot) return;
          gotoSlide(Number(dot.dataset.i));
        });

        // אם תמונות אופציונליות הוסרו, בונה נקודות מחדש לאחר טעינה
        setTimeout(()=>{ rebuildDots(); gotoSlide(0); }, 400);

        // --- בחירת נפח + מחיר + וואטסאפ ---
        const sizeBtns = card.querySelectorAll('.size-btn');
        const priceEl = card.querySelector('.price-val');
        const waBtn = card.querySelector('.wa-btn');

        function selectSize(btn){
          sizeBtns.forEach(b=>b.classList.toggle('active', b===btn));
          const price = Number(btn.dataset.price || 0);
          const sizeLabel = btn.dataset.size;
          priceEl.textContent = price;
          waBtn.href = buildWaHref(product, sizeLabel, price);
        }
        sizeBtns.forEach(btn=>{
          btn.addEventListener('click', ()=> selectSize(btn));
        });
      });
    }

    function initTopWA(){
      const waTop = document.getElementById('waTop');
      if (waTop) waTop.href = `https://wa.me/${WA_PHONE}?text=${encodeURIComponent('היי! מעוניין/ת בבשמים. אשמח לפרטים על נפחים ודוגמיות.')}`;
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      renderProducts();
      initTopWA();
    });
  </script>
</body>
</html>
